{"version":3,"file":"static/js/168.5b7fd6e7.chunk.js","mappings":"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","sources":["pages/MovieDetails/MovieDetails.jsx","hooks/useFetchItem.js","services/moviesApi.js","../node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral.js"],"sourcesContent":["import { NavLink, Outlet, useLocation } from 'react-router-dom';\nimport styled from 'styled-components';\nimport Loader from 'components/Loader/Loader';\nimport { useFetchItem } from 'hooks/useFetchItem';\n\nconst Link = styled(NavLink)`\n  display: flex;\n  gap: 10px;\n`;\n\nconst MovieDetails = () => {\n  const location = useLocation();\n  const goBackURL = location?.state?.from ?? '/';\n\n  const { item, loading, title, poster, release, genres, rating } =\n    useFetchItem();\n\n  return (\n    <>\n      {loading && <Loader />}\n      {item && (\n        <>\n          <Link to={goBackURL}>Go back</Link>\n          <hr />\n          <img src={poster} alt={title} />\n\n          <h1>\n            {title} {release}\n          </h1>\n          <p>{`User Score: ${rating}`}</p>\n          <h2>Overview</h2>\n          <p>{item.overview}</p>\n          <h2>Genres</h2>\n          <div>{genres}</div>\n          <hr />\n          <p>Additional information</p>\n          <Link to=\"cast\" state={{ from: goBackURL }}>\n            Cast\n          </Link>\n          <Link to=\"reviews\" state={{ from: goBackURL }}>\n            Reviews\n          </Link>\n          <hr />\n          <Outlet />\n        </>\n      )}\n    </>\n  );\n};\n\nexport default MovieDetails;","import { useState, useEffect } from 'react';\nimport { getMovieDetails } from 'services/moviesApi';\nimport { useParams, useNavigate } from 'react-router-dom';\nimport image from 'images/notFound.jpg';\n\nexport const useFetchItem = () => {\n  const [item, setItem] = useState(null);\n  const [loading, setLoading] = useState(false);\n  const [title, setTitle] = useState('');\n  const [poster, setPoster] = useState('');\n  const [release, setRelease] = useState('');\n  const [genres, setGenres] = useState([]);\n  const [rating, setRating] = useState('');\n\n  const { itemId } = useParams();\n  const novigate = useNavigate();\n\n  useEffect(() => {\n    const fetchTrendingMovies = async () => {\n      setLoading(true);\n      try {\n        const itemData = await getMovieDetails(itemId);\n        const { poster_path, title, release_date, genres, vote_average } =\n          itemData;\n\n        const poster = poster_path\n          ? `https://image.tmdb.org/t/p/w500${poster_path}`\n          : image;\n        const releaseDate = release_date.slice(0, 4);\n        const itemGenres =\n          genres.length > 0 ? (\n            <p>{genres.map(genre => genre.name).join(', ')}</p>\n          ) : (\n            <p>No genres found</p>\n          );\n        const itemRange = vote_average || 'No rating yet';\n\n        setItem(itemData);\n        setTitle(title);\n        setPoster(poster);\n        setRelease(releaseDate);\n        setGenres(itemGenres);\n        setRating(itemRange);\n      } catch (error) {\n        if (error.response.status === 404) {\n          alert('No movie on this request');\n          novigate('/', { replace: true });\n        }\n      } finally {\n        setLoading(false);\n      }\n    };\n\n    fetchTrendingMovies();\n  }, [itemId, novigate]);\n  return { item, loading, title, poster, release, genres, rating };\n};","import axios from 'axios';\n\nconst KEY = 'bf62f03debe072b9cb44e341d05cbd1e';\naxios.defaults.baseURL = 'https://api.themoviedb.org/3';\n\nexport const getTrendingMovies = async () => {\n  const response = await axios.get(`/trending/all/day?api_key=${KEY}`);\n  const trendingMovies = await response.data.results;\n  return trendingMovies;\n};\n\nexport const getMovieDetails = async id => {\n  const response = await axios.get(\n    `/movie/${id}?api_key=${KEY}&language=en-US`\n  );\n\n  const movieDetails = await response.data;\n  return movieDetails;\n};\n\nexport const getMovieCredits = async movieId => {\n  const response = await axios.get(\n    `/movie/${movieId}/credits?api_key=${KEY}&language=en-US`\n  );\n  const movieCredits = await response.data;\n  return movieCredits;\n};\n\nexport const getMovieReviews = async movieId => {\n  const response = await axios.get(`/movie/${movieId}/reviews?api_key=${KEY}`);\n  const movieReviews = await response.data;\n  return movieReviews;\n};\n\nexport const fetchMovieByName = async (movieName, page) => {\n  const response = await axios.get(\n    `search/movie?api_key=${KEY}&page=${page}&language=en&query=${movieName}`\n  );\n  const searchMoviesData = await response.data.results;\n  return searchMoviesData;\n};","export default function _taggedTemplateLiteral(strings, raw) {\n  if (!raw) {\n    raw = strings.slice(0);\n  }\n\n  return Object.freeze(Object.defineProperties(strings, {\n    raw: {\n      value: Object.freeze(raw)\n    }\n  }));\n}"],"names":["Link","styled","NavLink","location","useLocation","goBackURL","state","from","useState","item","setItem","loading","setLoading","title","setTitle","poster","setPoster","release","setRelease","genres","setGenres","rating","setRating","itemId","useParams","novigate","useNavigate","useEffect","fetchTrendingMovies","getMovieDetails","itemData","poster_path","release_date","vote_average","image","releaseDate","slice","itemGenres","length","map","genre","name","join","itemRange","response","status","alert","replace","useFetchItem","Loader","to","src","alt","overview","KEY","axios","getTrendingMovies","data","results","trendingMovies","id","movieDetails","getMovieCredits","movieId","movieCredits","getMovieReviews","movieReviews","fetchMovieByName","movieName","page","searchMoviesData","_taggedTemplateLiteral","strings","raw","Object","freeze","defineProperties","value"],"sourceRoot":""}